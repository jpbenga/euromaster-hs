<div id="collaborator-view" class="view hidden">
    <div class="dashboard-header">
        <h2>Espace Collaborateur</h2>
        <div style="display: flex; gap: 15px; align-items: center;">
            <div id="collab-name"></div>
            <button class="btn-secondary" style="width: auto; padding: 5px 10px;"
                onclick="handleDisconnect()">Déconnexion</button>
        </div>
    </div>

    <div class="card" style="background-color: transparent; box-shadow: none; padding: 0; margin-bottom: 20px;">
        <div style="display: flex; gap: 20px; flex-wrap: wrap;">

            <div
                style="flex: 1; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); border-left: 5px solid var(--primary-color);">
                <h4 style="margin-top: 0; color: #666;">Cette Semaine</h4>
                <div id="stat-weekly" style="font-size: 24px; font-weight: bold; color: var(--primary-color);">
                    Chargement...</div>
            </div>

            <div
                style="flex: 1; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); border-left: 5px solid var(--info-color);">
                <h4 style="margin-top: 0; color: #666;">Ce Mois</h4>
                <div id="stat-monthly" style="font-size: 24px; font-weight: bold; color: var(--info-color);">
                    Chargement...</div>
            </div>

            <div
                style="flex: 1; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); border-left: 5px solid var(--secondary-color);">
                <h4 style="margin-top: 0; color: #666;">Cette Année</h4>
                <div id="stat-yearly" style="font-size: 24px; font-weight: bold; color: #dcb000;">Chargement...</div>
            </div>

        </div>
    </div>

    <div class="card hidden" id="bdd-info-card-collaborator">
        <p><strong>ID de la Base de Données :</strong> <span id="bdd-link-collaborator">Chargement...</span></p>
    </div>

    <div class="card">
        <h3>Nouvelle Saisie d'Heures Supplémentaires</h3>
        <form id="overtime-form">
            <input type="hidden" id="collab-matricule-hidden" name="matricule">
            <input type="hidden" id="collab-nom-hidden" name="nom">
            <input type="hidden" id="collab-prenom-hidden" name="prenom">
            <input type="hidden" id="collab-code-centre-hidden" name="codeCentre">

            <div class="form-group">
                <label>Date</label>
                <input type="date" name="date" required>
            </div>

            <div class="form-group" style="display:flex; gap:10px;">
                <div style="flex:1">
                    <label>Heure Début Réelle</label>
                    <input type="time" name="startTime" required>
                </div>
                <div style="flex:1">
                    <label>Heure Fin Réelle</label>
                    <input type="time" name="endTime" required>
                </div>
            </div>

            <div class="form-group">
                <label>Description / Motif</label>
                <textarea name="description" rows="2" required
                    placeholder="Ex: Finition véhicule client X / Intervention urgente."></textarea>
                <p style="font-size: 0.9em; color: #555;">La durée des heures supplémentaires sera calculée
                    automatiquement en soustrayant l'horaire standard du centre.</p>
            </div>
            <div class="form-group">
                <label style="font-weight:normal">
                    <input type="checkbox" required> Je certifie l'exactitude de ces horaires.
                </label>
            </div>
            <button type="submit" class="btn-primary" id="overtime-submit-btn">Soumettre</button>
        </form>
    </div>

    <div class="card">
        <h3>Historique des Saisies</h3>
        <div style="overflow-x: auto;">
            <table style="min-width: 600px;">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Durée</th>
                        <th>Motif</th>
                        <th>Statut</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="history-list-body">
                </tbody>
            </table>
        </div>
    </div>
</div>